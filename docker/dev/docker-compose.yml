# You can read the Docker Compose documentation at:
#
#   https://docs.docker.com/compose/
#
# Run with file with `docker-compose up -d`.
#
# We use two separate Docker containers: one for the database and one for the
# Misas application.
#

# Uncomment for production

misasbundledb_dev:
  image: mongo
  volumes:
    - ./data/runtime/db:/data/db
    - ./data/dump:/dump
  command: mongod --smallfiles --oplogSize 128
  ports:
    - 27017

misasbundle_dev:
  build: .
  links:
    - misasbundledb_dev
  environment:
    - MONGO_URL=mongodb://misasbundledb_dev/misas
    - ROOT_URL=http://localhost:3000
    - FACEBOOK_CLIENT_ID='yourclientidhere'
    - FACEBOOK_SECRET='yoursecrethere'
    - GOOGLE_CIENT_ID='yourclientidhere'
    - GOOGLE_SECRET='yoursecrethere'
    - TWITTER_CLIENT_ID='yourclientidhere'
    - TWITTER_SECRET='yoursecrethere'
 
  volumes:
    - ./:/app
  command: meteor
  ports:
    - "3201:3000"
